#include <linux/module.h>
#include <linux/kernel.h>
#include <linux/proc_fs.h>

static const char *const PROCFS_NAME = "dref";

void (*null_fptr)(void);

ssize_t bug_write (struct file *filp, const char __user *buf, size_t len,
		loff_t *off)
{
	null_fptr();
	return 0;
}

const struct file_operations proc_fops = {
	.owner = THIS_MODULE,
	.write = bug_write,
};

static int __init init_dref(void)
{
	proc_create_data(PROCFS_NAME, S_IRWXUGO, NULL, &proc_fops, NULL);
	return 0;
}

static void __exit exit_dref(void)
{
	remove_proc_entry(PROCFS_NAME, NULL);
}

MODULE_LICENSE("GPL"); 
module_init(init_dref)
module_exit(exit_dref)

